{"version":3,"sources":["webpack:///webpack/bootstrap aa99b02bd8e1306d21f2","webpack:///./preprocessed/journey-loader.js","webpack:///./preprocessed/journey.js","webpack:///./preprocessed/api.js","webpack:///./preprocessed/localization.js","webpack:///./preprocessed/module-events.js"],"names":[],"mappings":"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","file":"efl-journey.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap aa99b02bd8e1306d21f2\n **/","import {EFLJourney} from './journey.js';\n\nwindow.EFLJourney = new EFLJourney(window);\n\n\n/** WEBPACK FOOTER **\n ** ./preprocessed/journey-loader.js\n **/","import Api from './api.js';\nimport Localization from './localization.js';\nimport {TIMER_STATES} from './module-events.js';\n\n\nexport var JOURNEY_STATE = {\n    LIBRARY_NOT_INITIALIZED: 0,\n    LIBRARY_INITIALIZED: 1,\n    STEP_LOADING: 2,\n    STEP_STARTED: 3,\n    SCREENS_COMPLETED: 4,\n    STEP_SEND_RESULTS: 5,\n    STEP_FINISHED: 6,\n    APPLICATION_FINISHED: 7\n};\n\nexport class EFLJourney {\n    constructor(context) {\n        this.context = context;\n        this.moduleState = JOURNEY_STATE.LIBRARY_NOT_INITIALIZED;\n        this.showHeader = true;\n        this.showFooter = true;\n        this.autoStart = true;\n        this.currentModuleNumber = 0;\n        this.currentStepProgress = 0;\n        this.navigation = {\n            logo: false,\n            logoSrc: 'EFL_logo.png',\n            title: true,\n            progressBar: true,\n            localization: false,\n            timer: true,\n            helpButton: true,\n            buttons: true\n        };\n        this.localization = {\n            localePath: 'locales/journey.{locale}.l20n',\n            locales: {\n                'en': {\n                    name: 'English'\n                },\n                'es': {\n                    name: 'Spanish'\n                }\n            }\n        };\n    }\n\n    /*\n     config = {\n         player: object, // player object - required\n         target: string, // target div id - required\n         encryptorEndpoint: url, // url to encryptor endpoint - required\n         ajEndpoint: url, // url to the aj backend server - required\n         assessmentKey: string, // for example onlineBasicPsychometric - required\n         autoStart: true, // start first module automatically - default true\n         showHeader: true, // show header navigation bar - default true\n         showFooter: true, // show footer navigation bar - default true\n         navigation: {\n             logo: false, // show logo - default false\n             logoSrc: url, // url to logo file - default efl logo\n             title: true, // show title - default true\n             progressBar: true, // show progress bar - default true\n             localization: false, // show localization picker - default false\n             timer: true, // enable showing timer on the navigation header - default true\n             helpButton: true, // enable showing help button on the navigation header - default true\n             buttons: true // show next/back buttons - default true\n         },\n         moduleStyle: 'module_style.css', // path to the file with style that should be injected to the modules\n         localization: {\n            localePath: 'http://www.example.com/locales/journey.{locale}.l20n',\n            defaultLanguage: 'en',\n            locales: {\n                'en': {\n                    name: 'English'\n                },\n                'es': {\n                    name: 'Spanish'\n                }\n            }\n         }\n     }\n     */\n    init(config) {\n        var self = this;\n\n        if (!config) {\n            console.error('Cannot initialize Journey API: no config object.');\n            return;\n        }\n        if (!config.player) {\n            console.error('Cannot initialize Journey API: no player object.');\n            return;\n        }\n        if (!config.target) {\n            console.error('Cannot initialize Journey API: no target value.');\n            return;\n        }\n        if (!config.ajEndpoint) {\n            console.error('Cannot initialize Journey API: no ajEndpoint value.');\n        }\n        if (!config.encryptorEndpoint) {\n            console.error('Cannot initialize Journey API: no encryptorEndpoint value.');\n            return;\n        }\n        if (!config.assessmentKey) {\n            console.error('Cannot initialize Journey API: no assessmentKey value.');\n            return;\n        }\n\n        this.target = config.target;\n        this.encryptorEndpoint = config.encryptorEndpoint;\n        this.ajEndpoint = config.ajEndpoint;\n        this.assessmentKey = config.assessmentKey;\n        this.setupPlayer(config.player);\n        this.completedStep = 0;\n\n        if (typeof(config.autoStart) === 'boolean') {\n            this.autoStart = config.autoStart;\n        }\n\n        if (typeof(config.showHeader) === 'boolean') {\n            this.showHeader = config.showHeader;\n        }\n\n        if (typeof(config.showFooter) === 'boolean') {\n            this.showFooter = config.showFooter;\n        }\n\n        if (typeof(config.navigation) === 'object') {\n            this.setupNavigation(config.navigation);\n        }\n\n        if (typeof(config.localization) === 'object') {\n            this.L20n = new Localization(config.localization);\n        }\n        else {\n            this.L20n = new Localization(this.localization);\n        }\n\n        this.api = new Api({\n            encrypterUrl: this.encryptorEndpoint,\n            backendUrl: this.ajEndpoint\n        });\n\n        var createNavigationPromise = this.createNavigation(this.target);\n        var getModulesPromise = this.getModules(this.assessmentKey);\n        var promises = [createNavigationPromise, getModulesPromise];\n\n        if (config.moduleStyle && typeof(config.moduleStyle) === 'string') {\n            promises.push(this.getStyleConfig(config.moduleStyle));\n        }\n\n        return Promise.all(promises).then(function (results) {\n            self.modules = results[1].modules;\n            self.steps = results[1].steps;\n            self.firstStep = results[1].firstStep;\n            self.applicant = results[1].applicant ? results[1].applicant : {};\n            self.currentStep = results[1].currentStep;\n\n            if (promises.length == 3) {\n                self.moduleStyle = results[2];\n            }\n\n            self.moduleState = JOURNEY_STATE.LIBRARY_INITIALIZED;\n            if (self.autoStart) {\n                self.startNextStep();\n            }\n            else {\n                self.updateUIState();\n            }\n        }).catch(function (error) {\n            console.error(error.stack);\n        });\n    }\n\n    createNavigation(target) {\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            let rootDiv = document.getElementById(target);\n            if (!rootDiv) {\n                reject(new Error(`No element with id: ${target}.`));\n                return;\n            }\n            rootDiv.setAttribute('class', 'efl-journey-root');\n            let logo = self.navigation.logoSrc;\n\n            let html = `\n                <div id=\"efl-below-nav-overlay\" class=\"efl-overlay efl-hidden\"></div>\n                <div class=\"efl-top-bar\">\n                    <div id=\"efl-nav-overlay\" class=\"efl-overlay efl-hidden\"></div>\n                    <div class=\"mui-container-fluid\">\n                        <div class=\"mui-row\">\n                            <div class=\"mui-col-xs-12\">\n                                <div id=\"efl-journey-top-bar\" class=\"efl-top-progress-bar-wrapper\">\n                                    <div id=\"efl-logo\" class=\"efl-img-wrapper\">\n                                        <img src=\"${logo}\">\n                                    </div>\n                                    <div class=\"efl-progress-bar-wrapper\">\n                                        <div id=\"efl-progress\" class=\"efl-progress-bar\"></div>\n                                    </div>\n                                    <div class=\"efl-locale-select-wrapper\">\n                                        <div id=\"efl-locale-select\" class=\"efl-language-picker\">\n                                            <div class=\"mui-dropdown\">\n                                                <button id=\"efl-selected-language-button\" class=\"mui-btn mui-btn--primary\" data-mui-toggle=\"dropdown\"><span class=\"label\"></span><i class=\"efl-icon-font_icons-chevron\"></i></button>\n                                                <ul id=\"efl-language-dropdown-list\" class=\"mui-dropdown__menu mui-dropdown__menu--right\"></ul>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div id=\"efl-progress-small\" class=\"efl-small-progress-bar\"></div>\n                                <div id=\"efl-title-timer-container\">\n                                    <h1 id=\"efl-title\"></h1>\n                                    <div id=\"efl-timer-container\">\n                                        <div id=\"efl-timer\" class=\"mui-col-xs-12 mui-col-sm-4\">\n                                            <span id=\"efl-timer-clock\">\n                                                <svg id=\"efl-timer-svg\" viewbox=\"0 0 22 22\">\n                                                    <path id=\"efl-timer-path\" transform=\"translate(11, 11)\"></path>\n                                                </svg>\n                                            </span>\n                                            <span id=\"efl-timer-time\"></span>\n                                            <button id=\"efl-timer-button\"></button>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div id=\"efl-player-container\" style=\"overflow-y: auto\">\n                    <div class=\"mui-container-fluid\">\n                        <div id=\"efl-loading\" class=\"efl-loading\">\n                            <svg class=\"efl-spinner\" width=\"200px\" height=\"200px\" viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <circle fill=\"none\" stroke-width=\"16\" stroke-linecap=\"round\" cx=\"100\" cy=\"100\" r=\"84\"></circle>\n                            </svg>\n                            <div>\n                                The application is preparing the next step.<br />It can last up to 2 minutes.\n                            </div>\n                        </div>\n\n                        <div class=\"mui-row\">\n                            <div class=\"mui-col-xs-12\">\n                                <div id=\"efl-player\" class=\"efl-player\"></div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"efl-footer\">\n                        <div class=\"mui-container-fluid\">\n                            <div class=\"mui-row\">\n                                <div class=\"mui-col-xs-12\">\n                                    <div id=\"efl-journey-footer\">\n                                        <button id=\"efl-back-button\" class=\"mui-btn mui-btn--large mui-btn--primary mui-btn--fab efl-left\"><i class=\"efl-icon-font_icons-left-arrow\"></i></button>\n                                        <button id=\"efl-next-button\" class=\"mui-btn mui-btn--large mui-btn--primary mui-btn--fab efl-right\"><i class=\"efl-icon-font_icons-right-arrow\"></i></button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                <div>\n            `;\n\n            rootDiv.innerHTML = html;\n\n            document.getElementById('efl-back-button').onclick = () => {\n                self.backButtonTapped();\n            };\n\n            document.getElementById('efl-next-button').onclick = () => {\n                self.nextButtonTapped();\n            };\n\n            document.getElementById('efl-timer-button').onclick = () => {\n                self.changeTimerState();\n            };\n\n            self.player.target = 'efl-player';\n            self.setupLanguageList();\n            self.setupEventsListeners();\n            self.updateUIState();\n            resolve();\n        });\n    }\n\n    getModules(assessmentKey) {\n        var self = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                self.fetchModulesData(assessmentKey)\n                    .then(function (modules) {\n                        var parsedData = self.parseModulesData(modules);\n                        resolve(parsedData);\n                    })\n                    .catch(function (error) {\n                        reject(error);\n                    });\n            } catch (error) {\n                reject(error);\n            }\n        });\n    }\n\n    backButtonTapped() {\n        if (this.moduleState === JOURNEY_STATE.STEP_STARTED) {\n            this.player.backButtonTapped();\n        }\n    }\n\n    nextButtonTapped() {\n        if (this.moduleState === JOURNEY_STATE.STEP_STARTED) {\n            this.player.nextButtonTapped();\n        }\n        else if (this.moduleState === JOURNEY_STATE.LIBRARY_INITIALIZED) {\n            this.startNextStep();\n        }\n    }\n\n    startNextStep() {\n        if (!this.currentStep) {\n            this.currentStep = this.firstStep;\n        }\n        else if (this.steps[this.currentStep].nextStep) {\n            this.currentModuleNumber += 1;\n            this.currentStepProgress = 0;\n            this.currentStep = this.steps[this.currentStep].nextStep;\n        }\n        else {\n            console.warn('No next step');\n            return;\n        }\n\n        var step = this.steps[this.currentStep];\n        var module = this.modules[step.module];\n        this.moduleState = JOURNEY_STATE.STEP_LOADING;\n        this.setTitle(step.title);\n        this.updateUIState();\n\n        this.player.moduleLoadedHandler = () => {\n            this.player.moduleLoadedHandler = undefined;\n            this.moduleState = JOURNEY_STATE.STEP_STARTED;\n            this.updateUIState();\n        };\n\n        this.stepTimer = Date.now();\n\n        var config = this.updateConfig(module.config);\n        this.player.loadModule(this.currentStep, module.uri, config);\n    }\n\n    finishedScreen(progress) {\n        if (progress < 0) {\n            progress = 0;\n        }\n        if (progress > 100) {\n            progress = 100;\n        }\n\n        this.currentStepProgress = progress;\n\n        if (progress === 100) {\n            if (this.moduleState === JOURNEY_STATE.STEP_SEND_RESULTS) {\n                this.finishedModule();\n            }\n            else {\n                this.moduleState = JOURNEY_STATE.SCREENS_COMPLETED;\n                this.updateUIState();\n            }\n        }\n    }\n\n    handleModuleReturnValues(stepName, observations, metas, applicant, state) {\n        var timeElapsed = Math.floor(Date.now() - this.stepTimer);\n        if (!metas) {\n            metas = {};\n        }\n        metas.timeElapsed = timeElapsed;\n        this.applicant = this.mergeObjects(this.applicant, applicant);\n        this.sendObservations(stepName, this.completedStep, observations, metas, applicant, state);\n        this.completedStep++;\n\n        if (this.moduleState === JOURNEY_STATE.SCREENS_COMPLETED) {\n            this.finishedModule();\n        }\n        else {\n            this.moduleState = JOURNEY_STATE.STEP_SEND_RESULTS;\n        }\n    }\n\n    moduleException(category, message) {\n        console.error(category + ' error: ' + message);\n    }\n\n    finishedModule() {\n        if (this.steps[this.currentStep].nextStep) {\n            this.moduleState = JOURNEY_STATE.STEP_FINISHED;\n            this.startNextStep();\n        }\n        else {\n            this.player.closeModule();\n            this.moduleState = JOURNEY_STATE.APPLICATION_FINISHED;\n            this.sendFinishedApplication(this.completedStep++);\n            this.updateUIState();\n        }\n    }\n\n    setupPlayer(player) {\n        this.player = player;\n        this.player.moduleFinishedHandler = (stepName, observations, metas, applicant, state) => {\n            this.handleModuleReturnValues(stepName, observations, metas, applicant, state);\n        };\n        this.player.screenFinishedHandler = (progress) => {\n            this.finishedScreen(progress);\n        };\n        this.player.screenLoadedHandler = (navigation) => {\n            this.showBackButton = navigation.showBackButton === true;\n            this.showNextButton = navigation.showNextButton === true;\n            this.stepHideTitle = navigation.hideTitle === true;\n            this.stepHideProgress = navigation.hideProgress === true;\n            this.showTimer = navigation.showTimer === true;\n\n            this.timerInitialized = false;\n            this.updateUIState();\n        };\n        this.player.moduleExceptionHandler = this.moduleException;\n        this.player.moduleHeightChangedHandler = (height) => {\n            this.moduleHeightUpdated(height);\n        };\n        this.player.initTimerHandler = (time, enableTimeExtension, enableControl) => {\n            this.setupTimer(time, enableTimeExtension, enableControl);\n        };\n        this.player.startTimerHandler = () => {\n            this.startTimer();\n        };\n        this.player.pauseTimerHandler = () => {\n            this.changeTimerState(true);\n        };\n        this.player.requestTimerTimeHandler = () => {\n            this.sendCurrentTime();\n        };\n    }\n\n    setupNavigation(navigation) {\n        if (typeof(navigation.logo) === 'boolean') {\n            this.navigation.logo = navigation.logo;\n        }\n\n        if (navigation.logoSrc) {\n            this.navigation.logoSrc = navigation.logoSrc;\n        }\n\n        if (typeof(navigation.title) === 'boolean') {\n            this.navigation.title = navigation.title;\n        }\n\n        if (typeof(navigation.progressBar) === 'boolean') {\n            this.navigation.progressBar = navigation.progressBar;\n        }\n\n        if (typeof(navigation.localization) === 'boolean') {\n            this.navigation.localization = navigation.localization;\n        }\n\n        if (typeof(navigation.timer) === 'boolean') {\n            this.navigation.timer = navigation.timer;\n        }\n\n        if (typeof(navigation.helpButton) === 'boolean') {\n            this.navigation.helpButton = navigation.helpButton;\n        }\n\n        if (typeof(navigation.buttons) === 'boolean') {\n            this.navigation.buttons = navigation.buttons;\n        }\n    }\n\n    getStyleConfig(styleConfig) {\n        return new Promise(function (resolve, reject) {\n            var xhttp = new XMLHttpRequest();\n            xhttp.onreadystatechange = function () {\n                if (xhttp.readyState == 4) {\n                    if (xhttp.status == 200) {\n                        resolve(xhttp.responseText);\n                    }\n                    else {\n                        reject(new Error(`Can't get ${styleConfig}. Status: ${xhttp.statusText}`));\n                    }\n                }\n            };\n            xhttp.onError = function () {\n                reject(new Error(`Can't get ${styleConfig}. Status: ${xhttp.statusText}`));\n            };\n            xhttp.open(\"GET\", styleConfig, true);\n            xhttp.send();\n        });\n    }\n\n    updateUIState() {\n        var state = this.moduleState;\n        var isloading = state === JOURNEY_STATE.LIBRARY_NOT_INITIALIZED || state === JOURNEY_STATE.STEP_LOADING || state === JOURNEY_STATE.SCREENS_COMPLETED;\n        var nextButtonVisible = this.showFooter && this.navigation.buttons && (state === JOURNEY_STATE.LIBRARY_INITIALIZED || (state == JOURNEY_STATE.STEP_STARTED && this.showNextButton));\n        var backButtonVisible = this.showFooter && this.navigation.buttons && state == JOURNEY_STATE.STEP_STARTED && this.showBackButton;\n        var titleVisible = this.showHeader && this.navigation.title && (state === JOURNEY_STATE.STEP_STARTED || state === JOURNEY_STATE.SCREENS_COMPLETED || state === JOURNEY_STATE.STEP_SEND_RESULTS) && !this.stepHideTitle;\n        var progressVisible = this.showHeader && this.navigation.progressBar && !this.stepHideProgress;\n        var localizationVisible = this.showHeader && this.navigation.localization;\n        var logoVisible = this.showHeader && this.navigation.logo;\n        var timerVisible = state === JOURNEY_STATE.STEP_STARTED && this.showHeader && this.navigation.timer && this.showTimer && this.timerInitialized;\n\n        var navbar = document.querySelector('.efl-top-bar');\n        this.showHeader ? navbar.classList.remove('efl-hidden') : navbar.classList.add('efl-hidden');\n\n        var footer = document.querySelector('.efl-footer');\n        this.showFooter ? footer.classList.remove('efl-hidden') : footer.classList.add('efl-hidden');\n\n        var loading = document.getElementById('efl-loading');\n        isloading ? loading.classList.remove('efl-hidden') : loading.classList.add('efl-hidden');\n\n        var player = document.getElementById('efl-player');\n        isloading ? player.classList.add('efl-hidden') : player.classList.remove('efl-hidden');\n\n        var nextButton = document.getElementById('efl-next-button');\n        nextButtonVisible ? nextButton.classList.remove('efl-hidden') : nextButton.classList.add('efl-hidden');\n\n        var backButton = document.getElementById('efl-back-button');\n        backButtonVisible ? backButton.classList.remove('efl-hidden') : backButton.classList.add('efl-hidden');\n\n        var title = document.getElementById('efl-title');\n        titleVisible ? title.classList.remove('efl-hidden') : title.classList.add('efl-hidden');\n\n        var logo = document.getElementById('efl-logo');\n        logoVisible ? logo.classList.remove('efl-hidden') : logo.classList.add('efl-hidden');\n\n        var progress = document.getElementById('efl-progress');\n        var progressSmall = document.getElementById('efl-progress-small');\n        progressVisible ? progress.classList.remove('efl-hidden') : progress.classList.add('efl-hidden');\n        progressVisible ? progressSmall.classList.remove('efl-hidden') : progressSmall.classList.add('efl-hidden');\n\n        while (progress.firstChild) {\n            progress.removeChild(progress.firstChild);\n        }\n        while (progressSmall.firstChild) {\n            progressSmall.removeChild(progressSmall.firstChild);\n        }\n\n        if (this.modules) {\n            Object.keys(this.modules).forEach(function () {\n                var moduleBar = document.createElement('div');\n                moduleBar.setAttribute('class', 'efl-module-bar');\n                moduleBar.innerHTML = '<div class=\"efl-filling\"></div>';\n                progress.appendChild(moduleBar);\n                moduleBar = document.createElement('div');\n                moduleBar.setAttribute('class', 'efl-module-bar');\n                moduleBar.innerHTML = '<div class=\"efl-filling\"></div>';\n                progressSmall.appendChild(moduleBar);\n            });\n\n            for (let i = 0; i < this.currentModuleNumber; i++) {\n                progress.children[i].children[0].style.width = `100%`;\n                progressSmall.children[i].children[0].style.width = `100%`;\n            }\n            progress.children[this.currentModuleNumber].children[0].style.width = `${this.currentStepProgress}%`;\n            progressSmall.children[this.currentModuleNumber].children[0].style.width = `${this.currentStepProgress}%`;\n        }\n\n        var picker = document.getElementById('efl-locale-select');\n        localizationVisible ? picker.classList.remove('efl-hidden') : picker.classList.add('efl-hidden');\n\n        var timer = document.getElementById('efl-timer-container');\n        timerVisible ? timer.classList.remove('efl-hidden') : timer.classList.add('efl-hidden');\n\n        var updateEvent = document.createEvent('Event');\n        updateEvent.initEvent('EFLJourneyUpdateUi', true, true);\n        document.dispatchEvent(updateEvent);\n    }\n\n    fetchModulesData(assessmentKey) {\n        return this.api.fetchModules(assessmentKey); // TODO move to configuration.\n    }\n\n    sendObservations(step, sequence, observations, metas, applicant, state) {\n        return this.api.finishStep({step, sequence, observations, metas, state, applicant})\n            .then(this.api.getProgress)\n            .then(progress => {\n                console.log(progress);\n            });\n    }\n\n    sendFinishedApplication(sequence) {\n        return this.api.finishApplication({sequence})\n            .then(this.api.getProgress)\n            .then(progress => {\n                console.log(progress);\n            });\n    }\n\n    parseModulesData(data) {\n        var modules = data.modules;\n        var steps = {};\n        var firstStep;\n        var applicant = data.applicant;\n        var currentStep;\n\n        if (data.state && data.state.completedSteps && data.state.completedSteps.length) {\n            currentStep = data.state.completedSteps[data.state.completedSteps.length - 1];\n        }\n\n        for (var stepName in data.steps) {\n            if (data.steps.hasOwnProperty(stepName)) {\n                var step = {\n                    title: data.steps[stepName].title,\n                    module: data.steps[stepName].module\n                };\n                var links = data.steps[stepName].links;\n                for (var i = 0; i < links.length; i++) {\n                    var link = links[i];\n                    if (link.type === 'next') {\n                        step.nextStep = link.target;\n                    }\n                }\n                steps[stepName] = step;\n\n                if (data.steps[stepName].isRoot === true) {\n                    firstStep = stepName;\n                }\n            }\n        }\n\n        return {modules, steps, firstStep, currentStep, applicant};\n    }\n\n    setupLanguageList() {\n        let ul = document.getElementById('efl-language-dropdown-list');\n        Object.keys(this.L20n.locales).forEach(key => {\n            let li = document.createElement('li');\n            let a = document.createElement('a');\n            a.setAttribute('data-key', key);\n            a.setAttribute('data-name', this.L20n.locales[key].name);\n            this.L20n.setKey(a, key);\n            a.onclick = event => {\n                event.preventDefault();\n                this.selectLanguage(event.target.getAttribute('data-key'));\n            };\n            li.appendChild(a);\n            ul.appendChild(li);\n        });\n\n        this.selectLanguage(this.L20n.defaultLanguage);\n    }\n\n    selectLanguage(languageKey) {\n        this.currentLocale = languageKey;\n        this.L20n.setKey(document.querySelector('#efl-selected-language-button > span.label'), languageKey);\n        this.L20n.selectLanguage(languageKey);\n        this.player.languageChanged(languageKey);\n    }\n\n    localePickerChanged() {\n        var selectedValue = document.getElementById('efl-locale-select').value;\n        this.player.languageChanged(selectedValue);\n    }\n\n    setTitle(title) {\n        document.getElementById('efl-title').innerHTML = title;\n    }\n\n    updateConfig(config) {\n        var newConfig = config;\n        if (!newConfig.applicantJourney) {\n            newConfig.applicantJourney = {};\n        }\n        if (!newConfig.applicantJourney.step) {\n            newConfig.applicantJourney.step = {};\n        }\n        newConfig.applicantJourney.step.locale = this.currentLocale;\n        if (this.moduleStyle) {\n            newConfig.applicantJourney.step.style = this.moduleStyle;\n        }\n        newConfig.applicant = this.applicant;\n\n        var step = this.steps[this.currentStep];\n        if (!newConfig.applicantJourney.step.moduleKey) {\n            newConfig.applicantJourney.step.moduleKey = step.module;\n        }\n        if (!newConfig.applicantJourney.step.title) {\n            newConfig.applicantJourney.step.title = step.title;\n        }\n        if (!newConfig.applicantJourney.step.ordinal) {\n            newConfig.applicantJourney.step.ordinal = this.completedStep;\n        }\n\n        return newConfig;\n    }\n\n    moduleHeightUpdated(height) {\n        var player = document.getElementById('efl-player');\n        var currentHeight = player.clientHeight;\n\n        if (height != currentHeight) {\n            player.style.height = `${height}px`;\n        }\n    }\n\n    stickyFooter() {\n        try {\n            var topBar = document.querySelector('.efl-journey-root .efl-top-bar');\n            var parentHeight = topBar.parentNode.offsetHeight;\n            var contentAndFooterHeight = parentHeight - topBar.offsetHeight;\n            var footerHeight = document.querySelector('.efl-journey-root .efl-footer').offsetHeight;\n            var content = document.querySelector('#efl-player');\n            var loading = document.querySelector('#efl-loading');\n            var MAGIC_ONE_PIXEL = 1;\n            var minHeight = (contentAndFooterHeight - footerHeight - MAGIC_ONE_PIXEL) + 'px';\n            if (window.getComputedStyle(loading, null).display === 'none') {\n                content.style.minHeight = minHeight;\n            }\n            else {\n                loading.style.minHeight = minHeight;\n            }\n            var contentContainer = document.querySelector('#efl-player-container');\n            contentContainer.style.height = (contentAndFooterHeight) + 'px';\n        } catch (err) {}\n    }\n\n    setupEventsListeners() {\n        var self = this;\n        this.context.addEventListener('resize', function () {\n            self.stickyFooter();\n        }, false);\n\n        document.addEventListener('DOMContentLoaded', function() {\n            self.stickyFooter();\n        }, false);\n\n        document.addEventListener('EFLJourneyUpdateUi', function() {\n            self.stickyFooter();\n        }, false);\n    }\n\n    setupTimer(time, enableExtension, enableControl) {\n        if (!this.showTimer || !this.navigation.timer || !this.showHeader) {\n            return;\n        }\n\n        this.timerInitialTime = time;\n        this.timerStarted = false;\n        this.timerPaused = false;\n        this.realElapsedTime = 0;\n        this.timerFinished = false;\n        this.enableTimerControl = enableControl;\n        this.enableTimerExtension = enableExtension;\n        this.timerExtended = false;\n        this.setupTimerControl(false);\n        this.updateTimerPath(360);\n        this.setupTimerLabel(this.timerInitialTime);\n        this.setupTimerButton(false);\n        this.timerInitialized = true;\n        this.updateUIState();\n        this.player.initializedTimer();\n    }\n\n    startTimer() {\n        if (!this.timerInitialized || (this.timerStarted && !this.timerPaused && !this.timerExtended)) {\n            return;\n        }\n        this.setupTimerControl(this.enableTimerControl);\n\n        this.startTimerTimestamp = new Date().getTime();\n        this.timerPaused = false;\n\n        this.setupTimerButton(true);\n        var self = this;\n        var timeout = 1000;\n        if (timeout > this.timerInitialTime / 360) {\n            timeout = this.timerInitialTime / 360;\n        }\n\n        var refresh = function () {\n            if (self.timerPaused || !self.timerInitialized || self.moduleState != JOURNEY_STATE.STEP_STARTED) {\n                return;\n            }\n\n            var currentAngle;\n            var currentElapsedTime = self.realElapsedTime + new Date().getTime() - self.startTimerTimestamp;\n            if (self.timerInitialTime < 0) {\n                currentAngle = 0;\n            }\n            else {\n                currentAngle = 360 - (currentElapsedTime / self.timerInitialTime * 360);\n            }\n\n            self.updateTimerPath(currentAngle);\n\n            var currentRemainTime = self.timerInitialTime - currentElapsedTime;\n            self.setupTimerLabel(currentRemainTime);\n\n            if (currentRemainTime > 0) {\n                setTimeout(function () {\n                    refresh();\n                }, timeout);\n            }\n            else if (currentRemainTime <= 0) {\n                self.setupTimerControl(false);\n                self.timerFinished = true;\n                self.realElapsedTime = currentElapsedTime;\n                if (self.enableTimerExtension) {\n                    self.showTimeExtensionModal();\n                }\n                else {\n                    self.sendFinishedTimer();\n                }\n            }\n        };\n        refresh();\n        if (!this.timerStarted) {\n            this.timerStarted = true;\n            this.player.changedTimerState(TIMER_STATES.STARTED);\n        }\n        if (this.timerExtended) {\n            this.timerExtended = false;\n            this.player.changedTimerState(TIMER_STATES.STARTED);\n        }\n    }\n\n    updateTimerPath(angle) {\n        var path = document.getElementById('efl-timer-path');\n        var layer = document.getElementById('efl-timer-svg');\n        var radius = 11;\n        if (angle > 0) {\n            layer.classList.remove('efl-hidden');\n            var rad = ( angle * Math.PI / 180 );\n            var x = Math.round(Math.sin(rad) * -radius * 1000) / 1000;\n            var y = Math.round(Math.cos(rad) * -radius * 1000) / 1000;\n            var mid = (angle > 180) ? 1 : 0;\n            var anim = 'M 0 0 v -' + radius + ' A ' + radius + ' ' + radius + ' 1 '\n                + mid + ' 0 '\n                + x + ' '\n                + y + ' z';\n\n            path.setAttribute('d', anim);\n        }\n        else {\n            layer.classList.add('efl-hidden');\n        }\n    }\n\n    setupTimerLabel(time) {\n        var currentTime = time;\n        if (currentTime < 0) {\n            currentTime = 0;\n        }\n        var min = Math.floor(currentTime / 60000);\n        var sec = Math.ceil((currentTime % 60000) / 1000);\n        if (sec == 60) {\n            min++;\n            sec = 0;\n        }\n        var followingZero = sec < 10 ? '0' : '';\n\n        var timeEl = document.getElementById('efl-timer-time');\n        timeEl.innerText = min + ':' + followingZero + sec;\n    }\n\n    setupTimerButton(pause) {\n        var button = document.getElementById('efl-timer-button');\n        var className = pause ? 'efl-icon-font_icons-pause' : 'efl-icon-font_icons-play';\n        button.innerHTML = '<i class=\"' + className + '\"></i>';\n    }\n\n    changeTimerState(pause) {\n        if (this.timerStarted && !this.timerFinished) {\n            if (pause === undefined) {\n                pause = !this.timerPaused;\n            }\n            if (pause != this.timerPaused) {\n                this.setupTimerButton(!pause);\n                if (!pause) {\n                    this.startTimer();\n                    this.changeTimerOverlayState(false);\n                }\n                else {\n                    this.changeTimerOverlayState(true);\n                    this.realElapsedTime += new Date().getTime() - this.startTimerTimestamp;\n                    this.timerPaused = true;\n                }\n                this.player.changedTimerState(pause ? TIMER_STATES.PAUSED : TIMER_STATES.STARTED);\n            }\n        }\n    }\n\n    sendCurrentTime() {\n        if (this.timerInitialized) {\n            var time = this.realElapsedTime;\n            if (!this.timerFinished && !this.timerPaused) {\n                time += new Date().getTime() - this.startTimerTimestamp;\n            }\n            this.player.timerTimeResponse(Math.ceil(time));\n        }\n    }\n\n    setupTimerControl(show) {\n        var timer = document.getElementById('efl-timer-button');\n        show ? timer.classList.remove('efl-hidden') : timer.classList.add('efl-hidden');\n    }\n\n    changeTimerOverlayState(show) {\n        var globalOverlay = document.getElementById('efl-below-nav-overlay');\n        var navOverlay = document.getElementById('efl-nav-overlay');\n        var overlays = [globalOverlay, navOverlay];\n        for (var i = 0; i <overlays.length; i++) {\n            var el = overlays[i];\n            if (show) {\n                el.classList.remove('efl-hidden', 'efl-hide-animation');\n                el.classList.add('efl-show-animation');\n            }\n            else {\n                el.classList.remove('efl-show-animation');\n                el.classList.add('efl-hide-animation');\n                let handler = function (event) {\n                    event.srcElement.classList.add('efl-hidden');\n                    event.srcElement.removeEventListener('webkitAnimationEnd', handler);\n                };\n                el.addEventListener('webkitAnimationEnd',  handler);\n            }\n        }\n    }\n\n    mergeObjects(obj1, obj2) {\n        if (typeof(obj2) !== 'object') {\n            return obj1;\n        }\n        if (typeof(obj1) !== 'object') {\n            return obj2;\n        }\n        var newObj = obj1;\n        for (var key in obj2) {\n            if (obj2.hasOwnProperty(key)) {\n                if (newObj.hasOwnProperty(key) && typeof(obj2[key]) === 'object') {\n                    newObj[key] = this.mergeObjects(obj1[key], obj2[key]);\n                }\n                else {\n                    newObj[key] = obj2[key];\n                }\n            }\n        }\n        return newObj;\n    }\n\n    showTimeExtensionModal() {\n        let html = `\n            <div class=\"efl-modal\" id=\"efl-time-extension-modal\">\n                <h2>Would you like an extension?</h2>\n                <div>Your time has expired, but you may select to extend your time if you like.</div>\n                <form>\n                    <div>Choose time to add:</div>\n                    <div class=\"efl-radio\">\n                        <input type=\"radio\" name=\"timeExtensionRadio\" id=\"timeExtensionRadio_30\" value=\"30\" />\n                        <span><span></span></span>\n                        <label for=\"timeExtensionRadio_30\">30 seconds</label>\n                    </div>\n                    <div class=\"efl-radio\">\n                        <input type=\"radio\" name=\"timeExtensionRadio\" id=\"timeExtensionRadio_60\" value=\"60\" />\n                        <span><span></span></span>\n                        <label for=\"timeExtensionRadio_60\">60 seconds</label>\n                    </div>\n                </form>\n                <div class=\"mui-row efl-buttons-row\">\n                    <div class=\"mui-col-xs-12 mui-col-sm-6\" id=\"efl-time-extension-cancel\">\n                        <button class=\"mui-btn mui-btn--raised efl-button-small efl-primary\">NO, THANKS</button>\n                    </div>\n                    <div class=\"mui-col-xs-12 mui-col-sm-6\" id=\"efl-time-extension-ok\">\n                        <button class=\"mui-btn mui-btn--raised efl-button efl-action\" disabled>ADD TIME <i class=\"efl-icon-font_icons-check\"></i></button>\n                    </div>\n                </div>\n            </div>\n        `;\n        this.showModal(html);\n\n        document.querySelector('#efl-time-extension-cancel button').onclick = () => {\n            var self = this;\n            this.hideModal().then(function () {\n                self.sendFinishedTimer();\n            });\n        };\n\n        document.querySelector('#efl-time-extension-ok button').onclick = () => {\n            var self = this;\n            var time = document.querySelector('input[name=timeExtensionRadio]:checked').value * 1000;\n            this.hideModal().then(function () {\n                self.extendTimerTime(time);\n            });\n        };\n\n        var radios = document.querySelectorAll('#efl-time-extension-modal input[type=radio]');\n        for (var i = 0; i < radios.length; i++) {\n            radios[i].onchange = () => {\n                document.querySelector('#efl-time-extension-ok > button').removeAttribute('disabled');\n            }\n        }\n    }\n\n    showModal(modalHtml) {\n        let html = `\n            <div class=\"mui-container-fluid\">\n                <div class=\"mui-row\">\n                    <div id=\"efl-global-overlay-container\" class=\"mui-col-xs-12\">\n                        ${modalHtml}\n                    </div>\n                </div>\n            </div>\n        `;\n\n        var rootElement = document.querySelector('.efl-journey-root');\n        var overlay = document.createElement('div');\n        overlay.id = 'efl-global-overlay';\n        overlay.classList.add('efl-show-animation');\n        overlay.innerHTML = html;\n        var modal = overlay.querySelector('.efl-modal');\n        modal.classList.add('efl-modal-slide-down-animation');\n        modal.style.opacity = 0;\n        rootElement.appendChild(overlay);\n    }\n\n    hideModal() {\n        return new Promise(function (resolve, reject) {\n            var rootElement = document.querySelector('.efl-journey-root');\n            var overlay = document.querySelector('#efl-global-overlay');\n\n            if (overlay) {\n                overlay.classList.remove('efl-show-animation');\n                overlay.classList.add('efl-hide-animation');\n                let handler = function () {\n                    overlay.removeEventListener('webkitAnimationEnd', handler);\n                    rootElement.removeChild(overlay);\n                    resolve();\n                };\n                overlay.addEventListener('webkitAnimationEnd', handler);\n            }\n            else {\n                reject(new Error('No overlay object'));\n            }\n        });\n    }\n\n    sendFinishedTimer() {\n        this.player.changedTimerState(TIMER_STATES.FINISHED);\n    }\n\n    extendTimerTime(time) {\n        this.timerFinished = false;\n        this.timerExtended = true;\n        this.timerInitialTime += time;\n        this.startTimer();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./preprocessed/journey.js\n **/","let emptyObjectOr = (object) => object == null ? {} : object\n\nclass Session {\n    constructor({authorizationToken, requestToken, uid} = {}) {\n        if (!authorizationToken || !requestToken || !uid) {\n            throw new Error('Session: missing params');\n        }\n        this.authorizationToken = authorizationToken;\n        this.requestToken = requestToken;\n        this.uid = uid;\n        this.save = this.save.bind(this);\n        this.save();\n    }\n\n    static load() {\n        let session = JSON.parse(window.localStorage.getItem('session'));\n        if (session) {\n            return new Session(session);\n        }\n        else {\n            throw new Error('No session data.');\n        }\n    }\n\n    save() {\n        window.localStorage.setItem('session', JSON.stringify({\n            authorizationToken: this.authorizationToken,\n            requestToken: this.requestToken,\n            uid: this.uid\n        }));\n    }\n}\n\nclass AbstractApi {\n    constructor(config) {\n        if (!config || typeof (config) !== 'object') {\n            throw new Error(`Config object is required.`);\n        }\n\n        if (!config.encrypterUrl) {\n            throw new Error(`'encrypterUrl' missing in config object.`);\n        }\n\n        if (!config.backendUrl) {\n            throw new Error(`'backendUrl' missing in config object.`);\n        }\n\n        this.config = config;\n\n        // Bind instance methods\n        this.fetchModules = this.fetchModules.bind(this);\n        this.finishStep = this.finishStep.bind(this);\n        this.finishApplication = this.finishApplication.bind(this);\n        this.getProgress = this.getProgress.bind(this);\n        this._login = this._login.bind(this);\n        this._startSession = this._startSession.bind(this);\n        this._resumeSession = this._resumeSession.bind(this);\n        this._startApplication = this._startApplication.bind(this);\n        this._finishApplication = this._finishApplication.bind(this);\n        this._finishStep = this._finishStep.bind(this);\n        this._getProgress = this._getProgress.bind(this);\n    }\n\n    fetchModules() {throw new Error('Not implemented.');}\n    finishStep() {throw new Error('Not implemented.');}\n    finishApplication() {throw new Error('Not implemented.');}\n    getProgress() {throw new Error('Not implemented.');}\n\n    // Private API methods\n    _login() {throw new Error('Not implemented.');}\n    _startSession() {throw new Error('Not implemented.');}\n    _resumeSession() {throw new Error('Not implemented.');}\n    _startApplication() {throw new Error('Not implemented.');}\n    _finishApplication() {throw new Error('Not implemented.');}\n    _finishStep() {throw new Error('Not implemented.');}\n    _getProgress() {throw new Error('Not implemented.');}\n\n    _validate(params = {}, validation = []) {\n        validation.forEach((value) => {\n            if (!params.hasOwnProperty(value)) {\n                throw new Error(`Missing ${value} parameter.`);\n            }\n        });\n    }\n}\n\nfunction request(method, url, body) {\n    return new Promise((resolve, reject) => {\n        var request = new XMLHttpRequest();\n        request.open(method, url);\n        request.setRequestHeader('Content-Type', 'application/json');\n        request.onload = () => {\n            if (request.status >= 200 && request.status < 300) {\n                resolve(JSON.parse(request.responseText));\n            }\n            else {\n                reject(new Error(`Error in request: [${request.status}] ${method}, ${url}, ${request.responseText}.`));\n            }\n        };\n        request.onerror = () => {\n            reject(new Error(`Error in request: ${method}, ${url}, ${request.responseText}.`));\n        };\n        if (body) {\n            request.send(JSON.stringify(body));\n        } else {\n            request.send();\n        }\n    });\n}\n\nexport default class Api extends AbstractApi {\n    fetchModules(applicationName) {\n        if (!applicationName) {\n            throw new Error(`applicationName is required.`);\n        }\n\n        return new Promise((resolve, reject) => {\n            return this._login()\n                .then(response => {\n                    this.authorizationToken = response.authorizationToken;\n                    this.requestToken = response.requestToken;\n\n                    try {\n                        this.session = Session.load();\n                        return this._resumeSession({\n                            authorizationToken: this.authorizationToken,\n                            requestToken: this.requestToken,\n                            sessionId: this.session.uid,\n                            applicant: {}\n                        });\n                    }\n                    catch(e) {\n                        return this._startSession({\n                            authorizationToken: this.authorizationToken,\n                            requestToken: this.requestToken,\n                            applicationName: applicationName\n                        });\n                    }\n                })\n                .then(response => {\n                    this.session = new Session({\n                        authorizationToken: this.authorizationToken,\n                        requestToken: this.requestToken,\n                        uid: response.data.uid\n                    });\n                    return this._startApplication({\n                        authorizationToken: this.authorizationToken,\n                        requestToken: this.requestToken,\n                        sessionId: this.session.uid\n                    });\n                })\n                .then(response => {\n                    resolve({\n                        modules: response.data.modules,\n                        steps: response.data.steps,\n                        applicant: response.data.applicant,\n                        state: response.data.state,\n                        indicators: response.data.indicators\n                    });\n                })\n                .catch(error => {\n                    console.log(error);\n                    reject(error);\n                });\n        });\n    }\n\n    finishStep({step, sequence, observations, metas, state, applicant} = {}) {\n        return this._finishStep({\n            authorizationToken: this.authorizationToken,\n            requestToken: this.requestToken,\n            sessionId: this.session.uid,\n            step: step,\n            sequence: sequence,\n            observations: observations,\n            metas: metas,\n            state: state,\n            applicant: applicant\n        });\n    }\n\n    finishApplication({sequence} = {}) {\n        return this._finishApplication({\n            authorizationToken: this.authorizationToken,\n            requestToken: this.requestToken,\n            sessionId: this.session.uid,\n            sequence\n        });\n    }\n\n    getProgress() {\n        return this._getProgress({\n            authorizationToken: this.authorizationToken,\n            requestToken: this.requestToken,\n            sessionId: this.session.uid\n        });\n    }\n\n    _login() {\n        return request('POST', this.config.encrypterUrl);\n    }\n\n    _startSession(options) {\n        this._validate(options, ['authorizationToken', 'requestToken', 'applicationName']);\n        let {authorizationToken, requestToken, applicationName} = options;\n        return request('POST', this.config.backendUrl + 'startSession.json', {\n            authToken: authorizationToken,\n            reqToken: requestToken,\n            data: {\n                application: applicationName,\n                applicant: emptyObjectOr({})\n            }\n        });\n    }\n\n    _resumeSession(options) {\n        this._validate(options, ['authorizationToken', 'requestToken', 'sessionId', 'applicant']);\n        let {authorizationToken, requestToken, sessionId, applicant} = options;\n        return request('POST', this.config.backendUrl + 'resumeSession.json', {\n            authToken: authorizationToken,\n            reqToken: requestToken,\n            data: {\n                uid: sessionId,\n                applicant: emptyObjectOr(applicant)\n            }\n        });\n    }\n\n    _startApplication(options) {\n        this._validate(options, ['authorizationToken', 'requestToken', 'sessionId']);\n        let {authorizationToken, requestToken, sessionId} = options;\n        return request('POST', this.config.backendUrl + 'startApplication.json', {\n            authToken: authorizationToken,\n            reqToken: requestToken,\n            data: {\n                uid: sessionId,\n                player: {\n                    type: 'web-embedded',\n                    version: '1'\n                },\n                device: {}\n            }\n        });\n    }\n\n    _finishApplication(options) {\n        this._validate(options, ['authorizationToken', 'requestToken', 'sessionId', 'sequence']);\n        let {authorizationToken, requestToken, sessionId, sequence} = options;\n        return request('POST', this.config.backendUrl + 'finishApplication.json', {\n            authToken: authorizationToken,\n            reqToken: requestToken,\n            data: {\n                uid: sessionId,\n                sequence: sequence\n            }\n        });\n    }\n\n    _finishStep(options) {\n        this._validate(options, [\n            'authorizationToken',\n            'requestToken',\n            'sessionId',\n            'step',\n            'sequence',\n            'observations',\n            'metas',\n            'state',\n            'applicant'\n        ]);\n        let {authorizationToken,\n            requestToken,\n            sessionId,\n            step,\n            sequence,\n            observations,\n            metas,\n            state,\n            applicant} = options;\n        return request('POST', this.config.backendUrl + 'finishStep.json', {\n            authToken: authorizationToken,\n            reqToken: requestToken,\n            data: {\n                uid: sessionId,\n                step: step,\n                sequence: sequence,\n                observations: emptyObjectOr(observations),\n                metas: emptyObjectOr(metas),\n                state: emptyObjectOr(state),\n                applicant: emptyObjectOr(applicant)\n            }\n        });\n    }\n\n    _getProgress(options) {\n        this._validate(options, ['authorizationToken', 'requestToken', 'sessionId']);\n        let {authorizationToken, requestToken, sessionId, applicant} = options;\n        return request('POST', this.config.backendUrl + 'getProgress.json', {\n            authToken: authorizationToken,\n            reqToken: requestToken,\n            data: {\n                uid: sessionId\n            }\n        });\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./preprocessed/api.js\n **/","export default class Localization {\n    constructor(config) {\n        this.localePath = config.localePath;\n        this.locales = this.setupLocales(config.locales);\n        this.defaultLanguage = config.defaultLanguage || this.setDefaultLocale();\n        this.availableLanguages = Object.keys(this.locales);\n        this.reload();\n    }\n\n    reload() {\n        if (this.remote) {\n            window.removeEventListener('languagechange', this.remote);\n            document.removeEventListener('additionallanguageschange', this.remote);\n        }\n        this.buildLocales();\n\n        this.remote = new L20n.Remote(L20n.fetchResource, L20n.broadcast, navigator.languages);\n        window.addEventListener('languagechange', this.remote);\n        document.addEventListener('additionallanguageschange', this.remote);\n        this.l10n = new L20n.View(new L20n.Client(this.remote), document);\n    }\n\n    buildLocales() {\n        let head = document.querySelector('head');\n        let metas = head.querySelectorAll('meta[name=\"availableLanguages\"],' + 'meta[name=\"defaultLanguage\"],' + 'link[rel=\"localization\"]');\n        for (var i = 0; i < metas.length; i++) {\n            metas[i].parentElement.removeChild(metas[i]);\n        }\n\n        let localization = document.createElement('link');\n        localization.setAttribute('rel', 'localization');\n        localization.setAttribute('href', this.localePath);\n        head.appendChild(localization);\n\n        if (this.defaultLanguage) {\n            let defaultLanguage = document.createElement('meta');\n            defaultLanguage.setAttribute('name', 'defaultLanguage');\n            defaultLanguage.setAttribute('content', this.defaultLanguage);\n            head.appendChild(defaultLanguage);\n        }\n\n        let availableLanguages = document.createElement('meta');\n        availableLanguages.setAttribute('name', 'availableLanguages');\n        availableLanguages.setAttribute('content', this.availableLanguages.join(', '));\n        head.appendChild(availableLanguages);\n    }\n\n    setupLocales(langs) {\n        var keys = Object.keys(langs);\n        if (keys.length > 0) {\n            var locales = {};\n\n            for (var i = 0; i < keys.length; i++) {\n                if (langs.hasOwnProperty(keys[i]) && langs[keys[i]].name) {\n                    locales[keys[i].toLowerCase()] = {\n                        name: langs[keys[i]].name\n                    };\n                }\n            }\n        }\n        return locales;\n    }\n\n    setDefaultLocale() {\n        let browserLocale = (navigator.language || navigator.browserLanguage).toLocaleLowerCase();\n        let browserLocaleShort = browserLocale.split('-')[0];\n        let defaultLocaleKey = Object.keys(this.locales)[0];\n\n        if (this.locales.hasOwnProperty(browserLocale)) {\n            defaultLocaleKey = browserLocale;\n        }\n        else if (this.locales.hasOwnProperty(browserLocaleShort)) {\n            defaultLocaleKey = browserLocaleShort;\n        }\n        else {\n            var found = false;\n            for (var locale in this.locales) {\n                if (locale.split('-')[0] === browserLocaleShort) {\n                    defaultLocaleKey = locale;\n                    found = true;\n                    break;\n                }\n            }\n            if (!found && this.locales.hasOwnProperty('en')) {\n                defaultLocaleKey = 'en';\n            }\n        }\n        return defaultLocaleKey;\n    }\n\n    setKey(element, key) {\n        this.l10n.setAttributes(element, key);\n    }\n\n    selectLanguage(lang) {\n        this.l10n.requestLanguages([lang]);\n    }\n\n    setDefaultLanguage(lang) {\n        this.defaultLanguage = lang;\n        this.reload();\n    }\n\n    setAvailableLanguages(languages) {\n        this.availableLanguages = languages;\n        this.reload();\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./preprocessed/localization.js\n **/","export var MODULE_EVENTS = {\n    INITIALIZE_MODULE: 'initializeModule',\n    PRESSED_NAVIGATION_BUTTON: 'pressedNavigationButton',\n    LOADED_MODULE: 'loadedModule',\n    LOADED_SCREEN: 'loadedScreen',\n    FINISHED_SCREEN: 'finishedScreen',\n    FINISHED_MODULE: 'finishedModule',\n    CAUGHT_EXCEPTION: 'caughtException',\n    CHANGED_LANGUAGE: 'changedLanguage',\n    CHANGED_HEIGHT: 'changedHeight',\n    INITIALIZED_TIMER: 'initializedTimer',\n    CHANGED_TIMER_STATE: 'changedTimerState',\n    TIMER_TIME_RESPONSE: 'timerTimeResponse',\n    INIT_TIMER: 'initTimer',\n    START_TIMER: 'startTimer',\n    PAUSE_TIMER: 'pauseTimer',\n    REQUEST_TIMER_TIME: 'requestTimerTime',\n    CHANGED_VIEW: 'changedView'\n};\n\nexport var TIMER_STATES = {\n    STARTED: 'STARTED',\n    PAUSED: 'PAUSED',\n    FINISHED: 'FINISHED'\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./preprocessed/module-events.js\n **/"],"sourceRoot":""}